pico-8 cartridge // http://www.pico-8.com
version 16
__lua__
-- lander
function _init()
  speed=0.1
  f=0.7
  make_player()
end

function _update()
  move_player()
  wrap_player()
  friction()
end

function _draw()
  cls()
  print(p.x)
  draw_player()
end


-->8
-- player

function make_player()
  p={}
  p.s=1  -- sprite
  p.d=1  -- direction
  p.x=64
  p.y=64
  p.dx=0
  p.dy=0
end

function draw_player()
  p.x=p.x+p.dx
  p.y=p.y+p.dy
  
  spr(p.s,p.x,p.y,1,1,p.d)
end

function move_player()
  if(btn(⬅️))then 
    p.d=0
    p.dx-=speed
  else 
    p.dx+=f
    print("adding friction"..p.dx)
  end

  if(btn(➡️))then 
    p.d=1
    p.dx+=speed
  else 
    p.dx-=f
  end
  
end

function wrap_player()
  if(p.x>127)p.x=0
  if(p.x<0)p.x=127
  if(p.y>127)p.y=0
  if(p.x<0)p.y=127
end

function friction()
  if(p.d==1)p.x-=1
  if(p.d==0)p.x+=1
end
__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000c99000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0007700000cc99940000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00077000079999400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700799999400000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000005005000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000050000500000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
